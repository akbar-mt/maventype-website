<!DOCTYPE html><html lang="en-gb"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Understanding Move Semantics, Copy, and Clone in Rust - maventype</title><meta name="description" content="In Rust, when you assign a value to a new variable or&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="stylesheet" href="https://akbar-mt.github.io/maventype-website/media/plugins/syntaxHighlighter/prism-black.css"><link rel="canonical" href="https://akbar-mt.github.io/maventype-website/understanding-move-semantics-copy-and-clone-in-rust.html"><link rel="alternate" type="application/atom+xml" href="https://akbar-mt.github.io/maventype-website/feed.xml"><link rel="alternate" type="application/json" href="https://akbar-mt.github.io/maventype-website/feed.json"><meta property="og:title" content="Understanding Move Semantics, Copy, and Clone in Rust"><meta property="og:site_name" content="maventype"><meta property="og:description" content="In Rust, when you assign a value to a new variable or&hellip;"><meta property="og:url" content="https://akbar-mt.github.io/maventype-website/understanding-move-semantics-copy-and-clone-in-rust.html"><meta property="og:type" content="article"><link rel="preload" href="https://akbar-mt.github.io/maventype-website/assets/dynamic/fonts/publicsans/publicsans.woff2" as="font" type="font/woff2" crossorigin><link rel="stylesheet" href="https://akbar-mt.github.io/maventype-website/assets/css/style.css?v=f3255e888ee4af56f3e8437a2c4c99f3"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://akbar-mt.github.io/maventype-website/understanding-move-semantics-copy-and-clone-in-rust.html"},"headline":"Understanding Move Semantics, Copy, and Clone in Rust","datePublished":"2024-08-29T16:20+05:30","dateModified":"2025-02-01T16:58+05:30","description":"In Rust, when you assign a value to a new variable or&hellip;","author":{"@type":"Person","name":"Akbar Pasha","url":"https://akbar-mt.github.io/maventype-website/authors/akbar-pasha/"},"publisher":{"@type":"Organization","name":"Akbar Pasha"}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript></head><body class="post-template"><div class="container"><div class="left-bar"><div class="left-bar__inner"><header class="header"><a class="logo" href="https://akbar-mt.github.io/maventype-website/">maventype </a><a class="logo logo--atbottom" href="https://akbar-mt.github.io/maventype-website/">maventype</a></header></div></div><main class="main post"><article class="content"><div class="content__meta content__meta--attop"><div class="content__meta--attop__inner"><div class="content__maintag"><svg width="20" height="20" aria-hidden="true" focusable="false"><use xlink:href="https://akbar-mt.github.io/maventype-website/assets/svg/svg-map.svg#tag"/></svg> Published in <a href="https://akbar-mt.github.io/maventype-website/tags/rust/" class="metadata__maintag">Rust</a></div></div></div><div class="main__inner"><div class="content__meta"><div class="content__author"><img src="https://www.gravatar.com/avatar/ba4a17531053862a770758548665027f?s&#x3D;240" loading="lazy" height="240" width="240" alt="Akbar Pasha" class="content__author__avatar"><div><a href="https://akbar-mt.github.io/maventype-website/authors/akbar-pasha/" class="content__author__name">Akbar Pasha</a></div></div><div class="content__date"><time datetime="2024-08-29T16:20">Aug 29, 2024</time></div></div><header class="content__header"><h1 class="content__title">Understanding Move Semantics, Copy, and Clone in Rust</h1></header><div class="content__entry"><p>In Rust, when you assign a value to a new variable or pass it to a function, the behavior depends on whether the type implements the <code>Copy</code> trait. Let's explore this with some examples.</p><h2 id="move-semantics">Move Semantics</h2><p>By default, if a type doesn't implement the <code>Copy</code> trait, assigning it to a new variable or passing it to a function will move the value instead of copying it.</p><p>Here's an example with <code>String</code>, which doesn't implement <code>Copy</code>:</p><pre class="line-numbers language-rust"><code>fn main() {
    let s1 = String::from("hello");
    let s2 = s1;  // s1 is moved to s2

    println!("{}", s1);  // This line would cause a compile-time error
}</code></pre><p>This code won't compile. You'll get an error like this:</p><pre class="line-numbers language-rust"><code>error[E0382]: borrow of moved value: `s1`
 --&gt; src/main.rs:5:20
  |
2 |     let s1 = String::from("hello");
  |         -- move occurs because `s1` has type `String`, which does not implement the `Copy` trait
3 |     let s2 = s1;  // s1 is moved to s2
  |              -- value moved here
4 | 
5 |     println!("{}", s1);  // This line would cause a compile-time error
  |                    ^^ value borrowed here after move</code></pre><p>The ownership of the string data has moved from <code>s1</code> to <code>s2</code>, and <code>s1</code> is no longer valid to use.</p><h2 id="the-copy-trait">The Copy Trait</h2><p>Types that implement the <code>Copy</code> trait behave differently. When you assign a <code>Copy</code> type, it's copied instead of moved. Most primitive types (like integers, floats, and booleans) implement <code>Copy</code>.</p><p>Here's an example:</p><pre class="line-numbers language-rust"><code>fn main() {
    let x = 5;
    let y = x;  // x is copied to y

    println!("x = {}, y = {}", x, y);  // This is fine, x is still valid
}</code></pre><p>This code works because <code>i32</code> (the type of <code>x</code>) implements <code>Copy</code>. Both <code>x</code> and <code>y</code> are usable after the assignment.</p><h2 id="the-clone-trait">The Clone Trait</h2><p>For types that don't implement <code>Copy</code> (like <code>String</code>), Rust provides the <code>Clone</code> trait. Clone allows you to explicitly create a deep copy of a value.</p><p>Here's how you can use <code>Clone</code> with <code>String</code>:</p><pre class="line-numbers language-rust"><code>fn main() {
    let s1 = String::from("hello");
    let s2 = s1.clone();  // Explicitly clone s1

    println!("s1 = {}, s2 = {}", s1, s2);  // This is fine, s1 is still valid
}</code></pre><p>In this case, <code>s2</code> gets a new allocation with a copy of the data from <code>s1</code>. Both <code>s1</code> and <code>s2</code> are valid and independent.</p><h2 id="implementing-copy-and-clone">Implementing Copy and Clone</h2><p>You can implement <code>Copy</code> and <code>Clone</code> for your own types. Here's an example:</p><pre class="line-numbers language-rust"><code>#[derive(Debug, Copy, Clone)]
struct Point {
    x: i32,
    y: i32,
}

fn main() {
    let p1 = Point { x: 5, y: 10 };
    let p2 = p1;  // p1 is copied to p2 because Point implements Copy

    println!("p1 = {:?}", p1);  // This is fine, p1 is still valid
    println!("p2 = {:?}", p2);
}</code></pre><p>In this example, <code>Point</code> implements both <code>Copy</code> and <code>Clone</code>. When we assign <code>p1</code> to <code>p2</code>, it's copied, not moved.</p><h2 id="key-points-to-remember">Key Points to Remember</h2><ul><li>By default, assigning non-<code>Copy</code> types moves the value.</li><li>Types that implement <code>Copy</code> are automatically copied when assigned or passed to functions.</li><li><code>Clone</code> allows explicit copying of values, even for types that don't implement <code>Copy</code>.</li><li><code>Copy</code> is implicit and cheap, while <code>Clone</code> is explicit and may be more expensive.</li><li>Not all types can implement <code>Copy</code>. For example, types that manage resources (like <code>String</code> or <code>Vec</code>) typically don't implement <code>Copy</code>.</li></ul><p>Understanding these concepts is crucial for writing efficient Rust code and avoiding unexpected behavior related to ownership and borrowing.</p></div><footer class="content__footer"><div class="content__last-updated">This article was updated on <time datetime="2025-02-01T16:58">Feb 1, 2025</time></div><div class="content__share"><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fakbar-mt.github.io%2Fmaventype-website%2Funderstanding-move-semantics-copy-and-clone-in-rust.html" class="js-share facebook tltp tltp--top" aria-label="Facebook" rel="nofollow noopener noreferrer"><svg><use xlink:href="https://akbar-mt.github.io/maventype-website/assets/svg/svg-map.svg#facebook"/></svg> <span>Facebook</span> </a><a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fakbar-mt.github.io%2Fmaventype-website%2Funderstanding-move-semantics-copy-and-clone-in-rust.html&amp;via=maventype&amp;text=Understanding%20Move%20Semantics%2C%20Copy%2C%20and%20Clone%20in%20Rust" class="js-share twitter tltp tltp--top" aria-label="Twitter" rel="nofollow noopener noreferrer"><svg><use xlink:href="https://akbar-mt.github.io/maventype-website/assets/svg/svg-map.svg#twitter"/></svg> <span>Twitter</span></a></div></footer></div></article><div class="content__section post__related"><div class="main__inner"><h3 class="content__section__title">Related post</h3><div class="post__related__wrap"><article class="c-card"><div class="c-card__meta"><div class="c-card__author"><img src="https://www.gravatar.com/avatar/ba4a17531053862a770758548665027f?s&#x3D;240" loading="lazy" height="240" width="240" alt="Akbar Pasha"> <a href="https://akbar-mt.github.io/maventype-website/authors/akbar-pasha/">Akbar Pasha</a></div><time datetime="2024-08-31T17:32">Aug 31, 2024 </time><a href="https://akbar-mt.github.io/maventype-website/tags/rust/" class="c-card-tag">Rust</a></div><header class="c-card__header"><h2 class="c-card__title"><a href="https://akbar-mt.github.io/maventype-website/building-a-simple-collection-management-system-in-rust.html">Building a Simple Collection Management System in Rust</a></h2><p>In this blog post, we'll explore how to build a simple collection&hellip;</p></header></article><article class="c-card"><div class="c-card__meta"><div class="c-card__author"><img src="https://www.gravatar.com/avatar/ba4a17531053862a770758548665027f?s&#x3D;240" loading="lazy" height="240" width="240" alt="Akbar Pasha"> <a href="https://akbar-mt.github.io/maventype-website/authors/akbar-pasha/">Akbar Pasha</a></div><time datetime="2024-08-29T15:16">Aug 29, 2024 </time><a href="https://akbar-mt.github.io/maventype-website/tags/rust/" class="c-card-tag">Rust</a></div><header class="c-card__header"><h2 class="c-card__title"><a href="https://akbar-mt.github.io/maventype-website/rust-scopes-references-sized-types-lifetimes-and-ownership.html">Rust Scopes, References, Sized Types, Lifetimes, and OwnershipÂ </a></h2><p>Scopes in Rust&nbsp; In Rust, scope is an important concept that determines&hellip;</p></header></article></div></div></div></main><div class="right-bar"><div class="right-bar__inner"><div class="sidebar"><section class="box authors"><h3 class="box__title">Authors</h3><ul class="authors__cotainer"><li class="authors__item"><a href="https://akbar-mt.github.io/maventype-website/authors/akbar-pasha/" class="authors__image"><img src="https://www.gravatar.com/avatar/ba4a17531053862a770758548665027f?s&#x3D;240" loading="lazy" alt="Akbar Pasha" height="240" width="240" class="authors__img"></a><div><a href="https://akbar-mt.github.io/maventype-website/authors/akbar-pasha/" class="authors__title">Akbar Pasha</a> <span class="authors__meta">Post: 5</span></div></li></ul></section><section class="box tags"><h3 class="box__title">Recommended Topics</h3><ul class="tags__list"><li class="tags__item"><a href="https://akbar-mt.github.io/maventype-website/tags/rust/" class="btn btn--gray">Rust <sup>(5)</sup></a></li></ul></section><div class="box copyright">-</div></div></div></div></div><script defer="defer" src="https://akbar-mt.github.io/maventype-website/assets/js/scripts.min.js?v=b2d91bcadbf5db401b76eb5bb3092eb7"></script><script>var images = document.querySelectorAll('img[loading]');
        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script><script defer="defer" src="https://akbar-mt.github.io/maventype-website/media/plugins/syntaxHighlighter/prism.js"></script><script defer="defer" src="https://akbar-mt.github.io/maventype-website/media/plugins/syntaxHighlighter/prism-line-numbers.min.js"></script><script defer="defer" src="https://akbar-mt.github.io/maventype-website/media/plugins/syntaxHighlighter/clipboard.min.js"></script><script defer="defer" src="https://akbar-mt.github.io/maventype-website/media/plugins/syntaxHighlighter/prism-copy-to-clipboard.min.js"></script></body></html>
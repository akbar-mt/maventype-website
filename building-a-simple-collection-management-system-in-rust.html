<!DOCTYPE html><html lang="en-gb"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Building a Simple Collection Management System in Rust - maventype</title><meta name="description" content="In this blog post, we'll explore how to build a simple collection&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="stylesheet" href="https://akbar-mt.github.io/maventype-website/media/plugins/syntaxHighlighter/prism-black.css"><link rel="canonical" href="https://akbar-mt.github.io/maventype-website/building-a-simple-collection-management-system-in-rust.html"><link rel="alternate" type="application/atom+xml" href="https://akbar-mt.github.io/maventype-website/feed.xml"><link rel="alternate" type="application/json" href="https://akbar-mt.github.io/maventype-website/feed.json"><meta property="og:title" content="Building a Simple Collection Management System in Rust"><meta property="og:site_name" content="maventype"><meta property="og:description" content="In this blog post, we'll explore how to build a simple collection&hellip;"><meta property="og:url" content="https://akbar-mt.github.io/maventype-website/building-a-simple-collection-management-system-in-rust.html"><meta property="og:type" content="article"><link rel="preload" href="https://akbar-mt.github.io/maventype-website/assets/dynamic/fonts/publicsans/publicsans.woff2" as="font" type="font/woff2" crossorigin><link rel="stylesheet" href="https://akbar-mt.github.io/maventype-website/assets/css/style.css?v=baa615602c70ef0b4f54d255eae949db"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://akbar-mt.github.io/maventype-website/building-a-simple-collection-management-system-in-rust.html"},"headline":"Building a Simple Collection Management System in Rust","datePublished":"2024-08-31T17:32+05:30","dateModified":"2025-02-01T17:32+05:30","description":"In this blog post, we'll explore how to build a simple collection&hellip;","author":{"@type":"Person","name":"Akbar Pasha","url":"https://akbar-mt.github.io/maventype-website/authors/akbar-pasha/"},"publisher":{"@type":"Organization","name":"Akbar Pasha"}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript></head><body class="post-template"><div class="container"><div class="left-bar"><div class="left-bar__inner"><header class="header"><a class="logo" href="https://akbar-mt.github.io/maventype-website/">maventype </a><a class="logo logo--atbottom" href="https://akbar-mt.github.io/maventype-website/">maventype</a></header></div></div><main class="main post"><article class="content"><div class="content__meta content__meta--attop"><div class="content__meta--attop__inner"><div class="content__maintag"><svg width="20" height="20" aria-hidden="true" focusable="false"><use xlink:href="https://akbar-mt.github.io/maventype-website/assets/svg/svg-map.svg#tag"/></svg> Published in <a href="https://akbar-mt.github.io/maventype-website/tags/rust/" class="metadata__maintag">Rust</a></div></div></div><div class="main__inner"><div class="content__meta"><div class="content__author"><img src="https://www.gravatar.com/avatar/ba4a17531053862a770758548665027f?s&#x3D;240" loading="lazy" height="240" width="240" alt="Akbar Pasha" class="content__author__avatar"><div><a href="https://akbar-mt.github.io/maventype-website/authors/akbar-pasha/" class="content__author__name">Akbar Pasha</a><p>Senior Data Engineer</p></div></div><div class="content__date"><time datetime="2024-08-31T17:32">Aug 31, 2024</time></div></div><header class="content__header"><h1 class="content__title">Building a Simple Collection Management System in Rust</h1></header><div class="content__entry"><p>In this blog post, we'll explore how to build a simple collection management system using Rust. We'll create a program that allows users to add items to a collection, update their quantities, and list all items. This project will demonstrate the use of structs, implementations, HashMaps, and basic input/output operations in Rust.</p><h2 id="setting-up-the-project">Setting Up the Project</h2><p>First, let's start by importing the necessary modules:</p><pre class="line-numbers language-rust"><code>use std::io::{self, Write};
use std::collections::HashMap;</code></pre><p>We're using <code>std::io</code> for input/output operations and <code>std::collections::HashMap</code> to store our items.</p><h2 id="defining-the-data-structures">Defining the Data Structures</h2><p>We'll define two structs: <code>Item</code> and <code>Collection</code>:</p><pre class="line-numbers language-rust"><code>struct Item {
    _name: String,
    _quantity: u8,
}

struct Collection {
    _items: HashMap&lt;String, Item&gt;,
}</code></pre><p>The <code>Item</code> struct represents an individual item with a name and quantity. The <code>Collection</code> struct uses a <code>HashMap</code> to store items, with the item name as the key and the <code>Item</code> struct as the value.</p><h2 id="implementing-collection-methods">Implementing Collection Methods</h2><p>Now, let's implement methods for our <code>Collection</code> struct:</p><pre class="line-numbers language-rust"><code>impl Collection {
    fn new() -&gt; Self {
        Collection {
            _items: HashMap::new(),
        }
    }

    fn add_item(&mut self, name: String, quantity: u8) {
        let item = Item {
            _name: name.to_string(),
            _quantity: quantity,
        };

        self._items.insert(name.to_string(), item);
        println!("Added an item {} and quantity {}", name, quantity);
    }
    
    fn update_item(&mut self, name: String, quantity: u8) {
        if let Some(item) = self._items.get_mut(&name) {
            item._quantity = quantity;
            println!("Updated item: {} and quantity {}", name, quantity);
        } else {
            println!("No item in the collection");
        }
    }
    
    fn list_item(&self) {
        if self._items.is_empty() {
            println!("There are no items in the list");
        } else {
            for item in self._items.values() {
                println!("Added item: {} and quantity: {}", item._name, item._quantity);
            }
        }
    }
}</code></pre><p>Let's break down these methods:</p><ol><li><code>new()</code>: This is a constructor that creates a new Collection with an empty HashMap.</li><li><code>add_item()</code>: Adds a new item to the collection.</li><li><code>update_item()</code>: Updates the quantity of an existing item.</li><li><code>list_item()</code>: Lists all items in the collection.</li></ol><h2 id="the-main-function">The Main Function</h2><p>Finally, let's implement the <code>main()</code> function to tie everything together:</p><pre class="line-numbers language-rust"><code>fn main() {
    let mut collection = Collection::new();

    loop {
        println!("1. Add an item");
        println!("2. Update an item");
        println!("3. List an item");
        println!("4. Exit");

        print!("Enter your choice: ");

        io::stdout().flush().expect("Failed to flush stdout");

        let mut take_input: String = String::new();

        io::stdin().read_line(&mut take_input).expect("Failed to read line");

        let choice: u8 = take_input.trim().parse().expect("Failed to convert to integer");

        match choice {
            1 =&gt; collection.add_item(String::from("Apple"), 5),
            2 =&gt; collection.update_item(String::from("Apple"), 8),
            3 =&gt; collection.list_item(),
            4 =&gt; break,
            _ =&gt; println!("Failed to recognize the choice"),
        }
    }
}</code></pre><p>This function creates a new <code>Collection</code> and enters a loop that presents a menu to the user. Based on the user's choice, it calls the appropriate method on the <code>collection</code> object.</p><p>Let's take a closer look at this line:</p><pre class="line-numbers language-rust"><code>io::stdout().flush().expect("Failed to flush stdout");
</code></pre><p>This line is crucial for ensuring that our prompt is immediately visible to the user. Here's a breakdown of what's happening:</p><ol><li><code>io::stdout()</code>: This returns a handle to the standard output stream.</li><li><code>.flush()</code>: The <code>flush()</code> method is called on the stdout handle. In many systems, output is buffered by default, which means that text isn't immediately written to the screen but is stored in a buffer first. Flushing forces any buffered content to be written immediately.</li><li><code>.expect("Failed to flush stdout")</code>: The <code>flush()</code> method returns a <code>Result</code>. We use <code>expect()</code> here to handle any potential errors. If <code>flush()</code> fails, the program will panic with the message "Failed to flush stdout".</li></ol><p>Why is this important? In this case, we're using <code>print!()</code> instead of <code>println!()</code> to display the prompt. The <code>print!()</code> macro doesn't automatically flush the output buffer, while <code>println!()</code> does. Without flushing, the prompt might not appear until after the user has already started typing their input, leading to a confusing user experience.</p><h2 id="behavior-of-print-vs-println">Behavior of print!() vs. println!()</h2><ol><li><code>print!()</code>: The <code>print!()</code> macro does not automatically flush the output buffer. This means that if you print something with <code>print!()</code> and don't explicitly flush, the output may stay in the buffer and not appear on the screen immediately.</li><li><code>println!()</code>: The <code>println!()</code> macro, on the other hand, does flush the output buffer automatically after printing. This is because <code>println!()</code> adds a newline character, which usually triggers a flush on most systems.</li></ol><p>By explicitly flushing stdout, we ensure that the prompt appears on the screen before the program waits for user input, providing a smoother, more intuitive interaction.</p><p>For more information on input/output operations in Rust, you can refer to the <a href="https://doc.rust-lang.org/std/io/index.html" target="_blank">std::io module documentation</a>.</p><p>Key Concepts and Rust Features Used</p><ol><li><b>Structs</b>: We use structs to define custom data types. Learn more about structs in the <a href="https://doc.rust-lang.org/book/ch05-00-structs.html" target="_blank">Rust Book</a>.</li><li><b>Implementations</b>: The <code>impl</code> block allows us to define methods associated with our <code>Collection</code> struct. Read more about method syntax in the <a href="https://doc.rust-lang.org/book/ch05-03-method-syntax.html" target="_blank">Rust Book</a>.</li><li><b>HashMap</b>: We use a <code>HashMap</code> to store our items. This provides efficient lookup and insertion operations. Learn more about HashMaps in the <a href="https://doc.rust-lang.org/std/collections/struct.HashMap.html" target="_blank">Rust documentation</a>.</li><li><b>Pattern Matching</b>: We use <code>match</code> to handle different user choices. Explore pattern matching in the <a href="https://doc.rust-lang.org/book/ch06-02-match.html" target="_blank">Rust Book</a>.</li><li><b>Error Handling</b>: We use <code>expect()</code> for simple error handling. For more advanced error handling techniques, check out the <a href="https://doc.rust-lang.org/book/ch09-00-error-handling.html" target="_blank">error handling chapter</a> in the Rust Book.</li><li><b>Ownership and Borrowing</b>: Notice the use of <code>&amp;mut self</code> in some methods, which borrows the <code>Collection</code> mutably. Understanding ownership is crucial in Rust - learn more in the <a href="https://doc.rust-lang.org/book/ch04-00-understanding-ownership.html" target="_blank">ownership chapter</a> of the Rust Book.</li></ol></div><footer class="content__footer"><div class="content__last-updated">This article was updated on <time datetime="2025-02-01T17:32">Feb 1, 2025</time></div><div class="content__share"><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fakbar-mt.github.io%2Fmaventype-website%2Fbuilding-a-simple-collection-management-system-in-rust.html" class="js-share facebook tltp tltp--top" aria-label="Facebook" rel="nofollow noopener noreferrer"><svg><use xlink:href="https://akbar-mt.github.io/maventype-website/assets/svg/svg-map.svg#facebook"/></svg> <span>Facebook</span> </a><a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fakbar-mt.github.io%2Fmaventype-website%2Fbuilding-a-simple-collection-management-system-in-rust.html&amp;via=maventype&amp;text=Building%20a%20Simple%20Collection%20Management%20System%20in%20Rust" class="js-share twitter tltp tltp--top" aria-label="Twitter" rel="nofollow noopener noreferrer"><svg><use xlink:href="https://akbar-mt.github.io/maventype-website/assets/svg/svg-map.svg#twitter"/></svg> <span>Twitter</span></a></div></footer></div></article><div class="content__section post__related"><div class="main__inner"><h3 class="content__section__title">Related post</h3><div class="post__related__wrap"><article class="c-card"><div class="c-card__meta"><div class="c-card__author"><img src="https://www.gravatar.com/avatar/ba4a17531053862a770758548665027f?s&#x3D;240" loading="lazy" height="240" width="240" alt="Akbar Pasha"> <a href="https://akbar-mt.github.io/maventype-website/authors/akbar-pasha/">Akbar Pasha</a></div><time datetime="2024-08-29T16:20">Aug 29, 2024 </time><a href="https://akbar-mt.github.io/maventype-website/tags/rust/" class="c-card-tag">Rust</a></div><header class="c-card__header"><h2 class="c-card__title"><a href="https://akbar-mt.github.io/maventype-website/understanding-move-semantics-copy-and-clone-in-rust.html">Understanding Move Semantics, Copy, and Clone in Rust</a></h2><p>In Rust, when you assign a value to a new variable or&hellip;</p></header></article><article class="c-card"><div class="c-card__meta"><div class="c-card__author"><img src="https://www.gravatar.com/avatar/ba4a17531053862a770758548665027f?s&#x3D;240" loading="lazy" height="240" width="240" alt="Akbar Pasha"> <a href="https://akbar-mt.github.io/maventype-website/authors/akbar-pasha/">Akbar Pasha</a></div><time datetime="2024-08-29T15:16">Aug 29, 2024 </time><a href="https://akbar-mt.github.io/maventype-website/tags/rust/" class="c-card-tag">Rust</a></div><header class="c-card__header"><h2 class="c-card__title"><a href="https://akbar-mt.github.io/maventype-website/rust-scopes-references-sized-types-lifetimes-and-ownership.html">Rust Scopes, References, Sized Types, Lifetimes, and Ownership </a></h2><p>Scopes in Rust&nbsp; In Rust, scope is an important concept that determines&hellip;</p></header></article></div></div></div></main><div class="right-bar"><div class="right-bar__inner"><div class="sidebar"><section class="box authors"><h3 class="box__title">Authors</h3><ul class="authors__cotainer"><li class="authors__item"><a href="https://akbar-mt.github.io/maventype-website/authors/akbar-pasha/" class="authors__image"><img src="https://www.gravatar.com/avatar/ba4a17531053862a770758548665027f?s&#x3D;240" loading="lazy" alt="Akbar Pasha" height="240" width="240" class="authors__img"></a><div><a href="https://akbar-mt.github.io/maventype-website/authors/akbar-pasha/" class="authors__title">Akbar Pasha</a> <span class="authors__meta">Post: 5</span></div></li></ul></section><section class="box tags"><h3 class="box__title">Recommended Topics</h3><ul class="tags__list"><li class="tags__item"><a href="https://akbar-mt.github.io/maventype-website/tags/rust/" class="btn btn--gray">Rust <sup>(5)</sup></a></li></ul></section><div class="box copyright">-</div></div></div></div></div><script defer="defer" src="https://akbar-mt.github.io/maventype-website/assets/js/scripts.min.js?v=b2d91bcadbf5db401b76eb5bb3092eb7"></script><script>var images = document.querySelectorAll('img[loading]');
        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script><script defer="defer" src="https://akbar-mt.github.io/maventype-website/media/plugins/syntaxHighlighter/prism.js"></script><script defer="defer" src="https://akbar-mt.github.io/maventype-website/media/plugins/syntaxHighlighter/prism-line-numbers.min.js"></script><script defer="defer" src="https://akbar-mt.github.io/maventype-website/media/plugins/syntaxHighlighter/clipboard.min.js"></script><script defer="defer" src="https://akbar-mt.github.io/maventype-website/media/plugins/syntaxHighlighter/prism-copy-to-clipboard.min.js"></script></body></html>